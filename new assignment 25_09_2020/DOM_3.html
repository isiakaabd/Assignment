<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>

<body>
    <h3> Add a new user, it's fast and easy...</h3>
    <input type="text" id="fullName" value="" placeholder="Full name"> <br>
    <input type="text" id="email" placeholder="Email"> <br>
    <input type="text" id="phone" placeholder="Phone"> <br>
    <input type="text" id="pics" placeholder="Profile Picture"> <br>
    <button onclick="addNewCase()">add</button>
    <hr>
    <div style="width: 1000px; display: grid; place-items: center;">
        <form class="form form-control-lg">
            <div class="input-group input-group-lg">
                <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                <input type="text" class="form-control" id="fullName" placeholder="fullName">
            </div>
            <div class="input-group input-group-lg">
                <span class="input-group-addon"><i class="glyphicon glyphicon-hand-down"></i></span>
                <input type="email" class="form-control" id="email" placeholder="Email">
            </div>
            <div class="input-group input-group-lg">
                <span class="input-group-addon"><i class="glyphicon glyphicon-eye-close"></i></span>
                <input id="password" type="password" class="form-control" name="password" placeholder="Password">
            </div>
            <div class="input-group  input-group-lg">
                <span class="input-group-addon"><i class="glyphicon glyphicon-eye-close"></i></span>
                <input id="cpassword" type="password" class="form-control" name="password" placeholder="confirm Password">
            </div>

            <div class="input-group input-group-sm">
                <span class="input-group-addon"><i class="glyphicon glyphicon-phone"></i></span>
                <input type="phone" class="form-control" id="phone" placeholder="phone-Number">
            </div>
            <div class="input-group input-group-sm">
                <span class="input-group-addon"><i class="glyphicon glyphicon-picture"></i></span>
                <input type="txt" class="form-control" id="pics" placeholder="Picture">
            </div>
        </form>
        <br>
    </div>

    <div id="general"></div>


    <script>
        let generalUser = [{
            fullname: " Aisha Opaluwa",
            email: "opaluwaaisha@yahoo.co",
            phone: +971456432,
            pics: "/4.jpg"

        }, {
            fullname: " Aisha Shittu",
            email: "shittuaisha@yahoo.co",
            phone: +19714526432,
            pics: "/1.jpg"
        }]
        localStorage.setItem("myStorage", JSON.stringify(generalUser))

        //

        projectUser()

        function projectUser() {
            usersDetails = '';
            for (i = 0; i < generalUser.length; i++) {
                usersDetails += `<div> 
                        <img src = "${generalUser[i].profilePics}"  style = "max-height:100px; border-radius:5px"> <br>
                        <strong> FULLNAME: </strong> ${generalUser[i].fullname}<br> 
                        <strong> Email: </strong> ${generalUser[i].email}<br> 
                        <strong> phone</strong> ${generalUser[i].phone}<br>
                        <button onclick="editBtn(${i})" class= " btn btn-sm btn-success"><span class="glyphicon glyphicon-delete"></span> Edit</button>
        <button onclick="redBtn(${i})" class= "btn btn-sm btn-danger"> Delete</button>
        
                        </div><hr> `

            }
            document.getElementById("general").innerHTML = usersDetails;
            localStorage.setItem("myStorage", JSON.stringify(generalUser))

        }




        function addNewCase() {
            newUser = {
                fullname: document.getElementById("fullName").value,
                email: document.getElementById("email").value,
                phone: document.getElementById("phone").value,
                profilePics: document.getElementById("pics").value

            }
            generalUser.push(newUser)
            localStorage.setItem("myStorage", JSON.stringify(generalUser))
            projectUser()
        }


        function redBtn(id) {
            // confirm("are you sure?");
            // if (confirm === true) {
            generalUser.splice(id, 1)
            localStorage.setItem("myStorage", JSON.stringify(generalUser))
            projectUser()

        }



        function editBtn(id) {

            let userEdit = {

                fullname: document.getElementById("fullName").value,
                email: document.getElementById("email").value,
                phone: document.getElementById("phone").value,
                profilePics: document.getElementById("pics").value
            }
            generalUser[id] = userEdit
            localStorage.setItem("myStorage", JSON.stringify(generalUser));
            projectUser()

        }
    </script>
</body>

</html>